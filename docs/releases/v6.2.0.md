# Release v6.2.0 - LIZA Visual Intelligence & Voice Interaction

**Previous Release**: v6.1.0 (Environment Configuration Centralization & Texture Cache)  
**Release Date**: December 2024  
**Branch**: `58-lizacockpit`  

---

## Release Summary

This release enhances **LIZA** with advanced visual intelligence capabilities and production-ready optimizations. LIZA can now creatively interpret natural language descriptions and dynamically transform the 3D environment in real-time, while also providing voice recognition for hands-free interaction.

---

## ‚ú® Features

### LIZA Visual Intelligence System
- **11 Material Categories**: TERRAIN, WATER, GLASS, METAL, BUILDING, VEGETATION, FLOOR, WALLS, EMISSIVE, GAMEPAD, SPACECRAFT
- **Hint System**: `terrainHint`, `waterHint`, `vegetationHint` for precise control
- **Creative Interpretation**: Natural language to color palette generation ("Tokyo neon purple", "underwater alien jungle")

### Production Preprocessor v4
- **Bilingual Commands**: English and Spanish support
- **INSIDE/FOCUS Detection**: `enter about` vs `go to skills`
- **Conservative Pattern Matching**: 4-word limit, complex queries ‚Üí API
- **History Contamination Fix**: `isPreprocessed` flag prevents duplicate responses

### Performance Optimization
- **Context Reduction**: 54KB ‚Üí ~2.5KB (95% reduction)
- **Prompt Optimization**: 6KB ‚Üí 1.5KB (75% reduction)
- **Smart Context**: Only key facts loaded, no full JSON

### About Section Enhancements
- **ContactHT Component**: New contact form
- **Calendly Integration**: Direct meeting scheduling

---

## üêõ Bug Fixes

- Fix LIZA responding in Spanish ‚Üí Now English only
- Fix INSIDE mode not triggering for `enter` commands
- Fix function calls not executing when API returns text + function
- Fix history contamination causing duplicate navigation

---

## üîß Improvements

- Reorganized `/tools` directory structure
- Extended material classification regex patterns
- Simplified Gemini system prompt
- Removed verbose JSON examples from prompts

---

## üìÅ Modified Files

### LIZA Core
| File | Changes |
|------|---------|
| `liza-theme-generator.js` | 11 categories, vegetation hints, new regex |
| `liza-tools.js` | Extended `apply_visual_theme` schema |
| `liza-prompts.js` | Compact ~1.5KB English-only prompt |
| `liza-smart-context.js` | Ultra-compact 1KB context |
| `useLizaChat.js` | Production preprocessor v4 |
| `useLizaTour.js` | English messages |

### Documentation
- `docs/technical/scene-reactivity-enhancement.md`
- `docs/features/scene-reactivity-implementation-plan.md`
- `docs/features/liza-context-optimization-plan.md`

---

## ‚ö†Ô∏è Breaking Changes

- **LIZA Language**: LIZA now responds in **English only** regardless of input language
- Simple navigation commands may skip API (by design, for performance)

---

## üß™ Verification

- [x] Visual theme changes (Matrix, Neon Tokyo, Desert, Ocean)
- [x] Navigation via preprocessor (EN/ES)
- [x] Navigation via API for complex queries
- [x] INSIDE mode enters buildings
- [x] Function calls execute with text responses
- [x] No history contamination
- [x] English responses confirmed
- [x] Voice input functional

---

## Changelog Categories

Per `.github/changelog-config.json`:
- ‚ú® Features: `feat` commits
- üêõ Bug Fixes: `fix` commits  
- üîß Improvements: `refactor`, `perf` commits
- üìö Documentation: `docs` commits
